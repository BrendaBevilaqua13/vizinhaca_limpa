<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vizinhança Limpa</title>
    <!-- Carregamento do Tailwind CSS para estilo -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 font-sans">
    <header class="bg-green-600 shadow-xl">
        <div class="max-w-4xl mx-auto py-4 px-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-white">Vizinhança Limpa</h1>
            <button id="logout-button" class="bg-white text-green-600 hover:bg-gray-100 font-semibold py-1.5 px-4 rounded-full shadow transition duration-150 ease-in-out">
                Sair
            </button>
        </div>
    </header>

    <main class="max-w-4xl mx-auto py-8 px-4">
        
        <!-- Seção de Criar Denúncia -->
        <section class="mb-8 p-6 bg-white rounded-xl shadow-lg border border-gray-100">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 text-green-600">Reportar Nova Ocorrência</h2>
            <form id="create-report-form" class="space-y-4">
                <div>
                    <label for="title" class="block text-sm font-medium text-gray-700">Título:</label>
                    <input type="text" id="title" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-green-500 focus:border-green-500">
                </div>
                <div>
                    <label for="description" class="block text-sm font-medium text-gray-700">Descrição:</label>
                    <textarea id="description" required rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-green-500 focus:border-green-500"></textarea>
                </div>
                <div>
                    <label for="category" class="block text-sm font-medium text-gray-700">Categoria:</label>
                    <select id="category" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 bg-white focus:ring-green-500 focus:border-green-500">
                        <option value="lixo_comum">Lixo Comum</option>
                        <option value="descarte_ilegal">Descarte Ilegal</option>
                        <option value="entulho">Entulho</option>
                        <option value="outros">Outros</option>
                    </select>
                </div>
               <div>
                    <label for="address_text" class="block text-sm font-medium text-gray-700">Endereço:</label>
                    <input type="text" id="address_text" name="address_text" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-green-500 focus:border-green-500">
                </div>
                <div class="flex space-x-4">
                <div class="w-1/2">
                    <label for="latitude" class="block text-sm font-medium text-gray-700">Latitude:</label>
                    <input type="text" 
                        id="latitude" 
                        name="latitude" 
                        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-green-500 focus:border-green-500"
                        placeholder="-23.5505"> </div>
                <div class="w-1/2">
                    <label for="longitude" class="block text-sm font-medium text-gray-700">Longitude:</label>
                    <input type="text" 
                        id="longitude" 
                        name="longitude" 
                        class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-green-500 focus:border-green-500"
                        placeholder="-46.6333">
                </div>
                </div>

                <button type="submit" class="w-full py-2.5 px-4 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-green-600 hover:bg-green-700 transition duration-150">
                    Enviar Denúncia
                </button>
            </form>
            <p id="message" class="text-center text-sm mt-4"></p>
        </section>

        <!-- Seção de Listar Denúncias -->
        <section class="p-6 bg-white rounded-xl shadow-lg border border-gray-100">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 border-b pb-2 text-green-600">Denúncias Recentes</h2>
            <div id="reports-list">
                <!-- Denúncias serão carregadas aqui pelo reports.js -->
            </div>
        </section>
        <div id="pagination-container" class="flex justify-center items-center space-x-4 mt-8">
    
            <button id="prev-page-button" 
                    class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed" 
                    disabled>
                Página Anterior
            </button>
            
            <span id="page-info" class="text-gray-700 font-medium">
                Carregando...
            </span>
            
            <button id="next-page-button" 
                    class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">
                Próxima Página
            </button>

        </div>

    </main>

    <!-- Usamos type="module" para permitir o uso de 'import' no JS -->
    <script type="module" src="/src/api.js"></script>
    <script type="module" src="/src/reports.js"></script>
</body>
</html>